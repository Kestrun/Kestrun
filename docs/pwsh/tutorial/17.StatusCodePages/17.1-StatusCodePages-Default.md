---
title: Default Status Code Pages
parent: StatusCodePages
nav_order: 1
---

# Default Status Code Pages — Basic Error Middleware

This sample spins up a Kestrun server with default status code page middleware.
The server will show built-in error pages for 404, 500, and other HTTP error status codes.
The response content is plain text with minimal formatting that states the status code and description.

> Prerequisites: see [Tutorials index][Tutorials].

## Full source

File: [`pwsh/tutorial/examples/17.1-StatusCodePages-Default.ps1`][17.1-StatusCodePages-Default.ps1]

```powershell
{% include examples/pwsh/17.1-StatusCodePages-Default.ps1 %}
```

## Step-by-step

- [New-KrLogger][New-KrLogger] — sets up console logging for diagnostics.
- [New-KrServer][New-KrServer] — creates the server host.
- [Add-KrEndpoint][Add-KrEndpoint] — binds to 127.0.0.1:5000 (default).
- [Add-KrPowerShellRuntime][Add-KrPowerShellRuntime] — enables PowerShell routes and middleware.
- [Enable-KrStatusCodePage][Enable-KrStatusCodePage] — enables default error page middleware.
- [Enable-KrConfiguration][Enable-KrConfiguration] — applies staged configuration.
- [Add-KrMapRoute][Add-KrMapRoute] — maps GET /hello route.
- [Write-KrTextResponse][Write-KrTextResponse] — returns text/plain response.
- [Start-KrServer][Start-KrServer] — starts the server.

### How it works

- Access `/hello` for a normal response.
- Access a non-existent route for the default 404 error page.
- Server errors (500) and other status codes show the default error page.

## Try it

Save the sample locally and run:

```powershell
curl http://127.0.0.1:5000/hello
```

PowerShell alternative:

```powershell
Invoke-WebRequest -Uri 'http://127.0.0.1:5000/hello' | Select-Object -ExpandProperty Content
```

Stop the server with Ctrl+C in the terminal.

## Cmdlet references

- [New-KrLogger][New-KrLogger]
- [New-KrServer][New-KrServer]
- [Add-KrEndpoint][Add-KrEndpoint]
- [Add-KrPowerShellRuntime][Add-KrPowerShellRuntime]
- [Enable-KrStatusCodePage][Enable-KrStatusCodePage]
- [Enable-KrConfiguration][Enable-KrConfiguration]
- [Add-KrMapRoute][Add-KrMapRoute]
- [Write-KrTextResponse][Write-KrTextResponse]
- [Start-KrServer][Start-KrServer]

## Troubleshooting

- If the port is in use, choose a different port in Add-KrEndpoint.
- If error pages do not appear, ensure Enable-KrStatusCodePage is called before Enable-KrConfiguration.

---

### Next

{: .fs-4 .fw-500}

Continue to [Custom Options](./17.2-StatusCodePages-Options.md) for advanced StatusCodePages configuration.

[17.1-StatusCodePages-Default.ps1]: /pwsh/tutorial/examples/17.1-StatusCodePages-Default.ps1
[New-KrLogger]: /pwsh/cmdlets/New-KrLogger
[New-KrServer]: /pwsh/cmdlets/New-KrServer
[Add-KrEndpoint]: /pwsh/cmdlets/Add-KrEndpoint
[Add-KrPowerShellRuntime]: /pwsh/cmdlets/Add-KrPowerShellRuntime
[Enable-KrStatusCodePage]: /pwsh/cmdlets/Enable-KrStatusCodePage
[Enable-KrConfiguration]: /pwsh/cmdlets/Enable-KrConfiguration
[Add-KrMapRoute]: /pwsh/cmdlets/Add-KrMapRoute
[Write-KrTextResponse]: /pwsh/cmdlets/Write-KrTextResponse
[Start-KrServer]: /pwsh/cmdlets/Start-KrServer
[Tutorials]: ../index.md
