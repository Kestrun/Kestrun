---
title: Parameter Components
parent: OpenApi
nav_order: 4
---

# Parameter Components

Create reusable parameter components for query strings, path variables, headers, and cookies.

## Full source

File: [`pwsh/tutorial/examples/15.4-OpenAPI-Parameter-Component.ps1`][15.4-OpenAPI-Parameter-Component.ps1]

```powershell
{% include examples/pwsh/15.4-OpenAPI-Parameter-Component.ps1 %}
```

## Step-by-step

1. Logging: Register console logger as default.
2. Server: Create server named 'OpenAPI Parameter Component'.
3. OpenAPI info: Add title and description.
4. Define `PaginationParameters` component with page, limit, and sortBy fields.
5. Define `FilterParameters` component with category and price range fields.
6. GET endpoint: Accept pagination and filter parameters and return filtered, sorted, paginated results.
7. Extract query parameters using `Get-KrRequestQuery` cmdlet.
8. Apply filters and sorting to mock product data.
9. Build and test OpenAPI document.

## Try it

```powershell
# List products with pagination
curl -i "http://127.0.0.1:5000/products?page=1&limit=10"

# List with sorting
curl -i "http://127.0.0.1:5000/products?page=1&limit=10&sortBy=price"

# List with category filter
curl -i "http://127.0.0.1:5000/products?category=electronics&limit=20"

# List with price range filter
curl -i "http://127.0.0.1:5000/products?minPrice=100&maxPrice=1000"

# Combine filters and pagination
curl -i "http://127.0.0.1:5000/products?category=office&minPrice=40&maxPrice=100&page=1&limit=5&sortBy=price"
```

PowerShell with parameter hashtable:

```powershell
$params = @{
    page    = 1
    limit   = 10
    sortBy  = 'price'
    category = 'electronics'
}

$uri = "http://127.0.0.1:5000/products?" + ($params.GetEnumerator() | ForEach-Object { "$($_.Key)=$($_.Value)" } -join '&')

Invoke-WebRequest -Uri $uri | Select-Object StatusCode, Content
```

## Parameter Component Attributes

```powershell
[OpenApiParameterComponent()]
class PaginationParameters {
    [OpenApiPropertyAttribute(Description = 'Page number', Minimum = 1, Example = 1)]
    [int]$page

    [OpenApiPropertyAttribute(Description = 'Items per page', Minimum = 1, Maximum = 100)]
    [int]$limit

    [OpenApiPropertyAttribute(Description = 'Sort field', ValidateSet = ('name', 'date', 'price'))]
    [string]$sortBy
}
```

- **OpenApiParameterComponent()**: Marks a class as a reusable parameter component.
- **OpenApiPropertyAttribute**: Decorates properties with descriptions, constraints (Minimum, Maximum, Example, ValidateSet).
- **ValidateSet**: Restricts values to an enumerated list; appears in OpenAPI spec as `enum`.

## Parameter Locations

Parameters can be in different locations:

- **Query**: `?page=1&limit=10` (most common for filtering/pagination).
- **Path**: `/products/{productId}` (dynamic route segments).
- **Header**: Custom HTTP headers.
- **Cookie**: Cookie values.

## Key Concepts

- **Pagination**: Use `page` and `limit` parameters for result limiting and offset.
- **Filtering**: Combine filter parameters to narrow results (category, price range, date range).
- **Sorting**: Allow clients to specify sort order via `sortBy` parameter.
- **Reusability**: Define pagination/filter components once, use across multiple endpoints.
- **Validation**: Use constraints to document and validate parameter values.

## References

- [OpenApiParameterComponent](/pwsh/cmdlets/OpenApiParameterComponent)
- [OpenApiPropertyAttribute](/pwsh/cmdlets/OpenApiPropertyAttribute)
- [Get-KrRequestQuery](/pwsh/cmdlets/Get-KrRequestQuery)
- [Add-KrMapRoute](/pwsh/cmdlets/Add-KrMapRoute)

---

### Previous / Next

{: .fs-4 .fw-500}

Previous: [RequestBody Components](./3.RequestBody-Components.md)
Next: [Response Components](./5.Response-Components.md)

[15.4-OpenAPI-Parameter-Component.ps1]: {{ site.baseurl }}/docs/_includes/examples/pwsh/15.4-OpenAPI-Parameter-Component.ps1
